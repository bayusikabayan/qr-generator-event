<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event QR Code Generator (Standalone)</title>
    <style>
        body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; background-color: #f5f5f5; margin: 0; padding: 20px; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { background-color: #ffffff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); width: 100%; max-width: 450px; box-sizing: border-box; text-align: center; }
        #page-logo { width: 80px; margin-bottom: 20px; }
        h1 { color: #333; margin-bottom: 25px; font-size: 1.5em; }
        .form-group { margin-bottom: 18px; text-align: left; }
        label { display: block; margin-bottom: 6px; font-weight: 600; color: #555; font-size: 0.9em; }
        input { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 1em; }
        button { width: 100%; padding: 15px; background-color: #007bff; color: white; border: none; border-radius: 8px; font-size: 1em; font-weight: bold; cursor: pointer; }
        #qr-output { margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; display: none; }
        #qrcode { display: inline-block; padding: 6px; background-color: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        #instruction-text { margin-top: 15px; font-weight: 500; color: #d9534f; }
        #download-link { background-color: #28a745; color: white; padding: 10px 15px; text-decoration: none; border-radius: 8px; margin-top: 20px; display: none; }
    </style>
</head>
<body>
    <div class="container">
        <img id="page-logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMy4xMg9QLc8AAALwSURBVFhH7Zf/i9NQFMefc+87EZHVkpdhJctIUhb8gZWFUlZWWiylD/IPtoWVlbZkkEWRESwsiqAiK4uC+AFZhRUWYSEp3fvevG/e5N1Unjtzd2fevDk31f3gcM7lfp/vd84595wY43gYwA4wA5wA34BXwBvQgx7kAbwFtoD/XQAWgClgGlgD9oB/u/wLWAE2gU3gJ3AEjAO7wB3wErgCFoDTwC/gBPiLgL/ZDHwDxgGNzL8L8B/O3w+B4+ABsAzsgwdwHpgEboDDwD6wBxyC/1gBvoNPYAyoAEeAF8AB8D+gC9wB3nQp8Af4SIfsEZh02fA94D4gBHy8BdwCqkB3IqAsUAW8A36Cv3AHTAHzQANQh6I/B0QHysAVsAZ0+w3YAp4T2k+Al8AFcBA4C7wDnoBNYBTYBL5XATsA/GgDmAQmAX+BPTAYOAu8BHYD+qgD/AfdkY93gKvgfATeQATwHrgPPLQBNIFd4C1wFpgD5oBGoA5k/xTYBOaiM8kI4G3wHrgOvA9cgf+B9wBq0AfsAU2gFShD2W/AW+A1cAC8AP5VAd4D/oIuA2cA6kC334D9oP9v/w4MAtuAIeB74GvgLrAIXAYmgS/gPXAJ/AQuAMuAj8BZwDNwA+gGzwC/hEApUARUgRmgAJTQz8A5oAeUAUeBEdANKAPd/h5wDdgA7gN7wDywDlwBngY+Bm4Cq4DFwE1gCfgQtAjsBvYBHYA+yAF2gafAe2AKaAI1IAVUgZmgDJSBOfA86HbaAd2BPmAaOAc8BpaA+cAWsA+UAneBY8ApsBp8BU4CW8AG8A1YBpYA+cAWsA+sg0cRAZxHPgLvgRdwD6gC9UAPqAM1oAQUgWpwHvgI/Ae+gTvgL/Ab6PfbwDygDLgG3AHmgQ/gY+Bf4Bvwa4X2wH3gN3AW2AcuA6+BTcAy8A3o9tfgS+AqcBR4W+Fk8K/t+Ev0+GvgZ0sRB9nLfwB902T/f/P5vwAAAABJRU5ErkJggg==" alt="Company Logo">
        <h1>Event Registration</h1>
        <form id="registrationForm">
            <div class="form-group">
                <label for="fullName">Full Name</label>
                <input type="text" id="fullName" placeholder="e.g., John Doe" required>
            </div>
            <div class="form-group">
                <label for="phoneNumber">Phone Number</label>
                <input type="tel" id="phoneNumber" placeholder="e.g., 08123456789" required>
            </div>
            <div class="form-group">
                <label for="companyName">Company Name</label>
                <input type="text" id="companyName" placeholder="e.g., F Sigma Corp" required>
            </div>
            <div class="form-group">
                <label for="email">Email Address (for confirmation only)</label>
                <input type="email" id="email" placeholder="e.g., john.doe@example.com" required>
            </div>
            <button type="submit">Generate QR Code</button>
        </form>
        <div id="qr-output">
            <div id="qrcode"></div>
            <p id="instruction-text">Please save this QR Code and show it upon attending the event.</p>
            <a href="#" id="download-link">Download QR Code</a>
        </div>
    </div>

    <script type="text/javascript">
    var QRCode;(function(){function t(t){this.mode=n.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var i=[],o=this.data.charCodeAt(e);o>65536?(i[0]=240|(15728640&o)>>>18,i[1]=128|(258048&o)>>>12,i[2]=128|(4032&o)>>>6,i[3]=128|63&o):o>2048?(i[0]=224|(61440&o)>>>12,i[1]=128|(4032&o)>>>6,i[2]=128|63&o):o>127?(i[0]=192|(1984&o)>>>6,i[1]=128|63&o):i[0]=o,this.parsedData=this.parsedData.concat(i)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0===t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[r+n]}function i(t,e){this.totalCount=t,this.dataCount=e}function o(){this.buffer=[],this.length=0}var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s={L:1,M:0,Q:3,H:2},h=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],l={PATTERN_POSITION_TABLE:h,G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;l.getBCHDigit(e)-l.getBCHDigit(l.G15)>=0;)e^=l.G15<<l.getBCHDigit(e)-l.getBCHDigit(l.G15);return(t<<10|e)^l.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;l.getBCHDigit(e)-l.getBCHDigit(l.G18)>=0;)e^=l.G18<<l.getBCHDigit(e)-l.getBCHDigit(l.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>=1;return e},getPatternPosition:function(t){return l.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case 0:return(e+r)%2==0;case 1:return e%2==0;case 2:return r%3==0;case 3:return(e+r)%3==0;case 4:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case 5:return e*r%2+e*r%3==0;case 6:return(e*r%2+e*r%3)%2==0;case 7:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var o=0,a=!1,s=n;s<e;s++){if(i+o>=e)break;var h=t.isDark(s,i+o);if(a==h){if(++o>=5){r+=3+o-5;break}}else a=h,o=1}}for(n=0;n<e;n++)for(i=0;i<e;i++){for(o=0,a=!1,s=i;s<e;s++){if(n+o>=e)break;h=t.isDark(n+o,s);if(a==h){if(++o>=5){r+=3+o-5;break}}else a=h,o=1}}for(n=0;n<e-1;n++)for(i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(0==l||4==l)&&(r+=3)}for(n=0;n<e;n++)for(i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(i=0;i<e;i++)for(n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var c=0,u=0;u<e;u++)for(var d=0;d<e;d++)t.isDark(d,u)&&c++;return r+=10*(Math.abs(100*c/e/e-50)/5)}},c={glog:function(t){if(t<1)throw new Error("glog("+-1+")");return c.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return c.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var u=0;u<8;u++)c.EXP_TABLE[u]=1<<u;for(u=8;u<256;u++)c.EXP_TABLE[u]=c.EXP_TABLE[u-4]^c.EXP_TABLE[u-5]^c.EXP_TABLE[u-6]^c.EXP_TABLE[u-8];for(u=0;u<255;u++)c.LOG_TABLE[c.EXP_TABLE[u]]=u;var d=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,60,22,2,61,23],[4,60,16,2,61,17],[4,146,116],[3,58,36,2,59,37],[4,58,20,4,59,21],[4,58,14,4,59,15],[6,174,138],[3,58,36,3,59,37],[4,58,20,4,59,21],[4,58,14,4,59,15],[6,196,156],[5,65,41,1,66,42],[4,65,24,5,66,25],[4,41,15,5,42,16],[6,224,178],[5,58,38,1,59,39],[6,58,22,2,59,23],[3,45,15,8,46,16],[8,254,202],[9,43,29,2,44,30],[6,43,19,6,44,20],[7,43,15,6,44,16],[8,292,232],[10,58,38,2,59,39],[8,58,22,4,59,23],[12,45,15,4,46,16],[8,322,256],[3,58,36,10,59,37],[4,58,20,13,59,21],[11,45,15,5,46,16],[10,364,290],[3,58,36,12,59,37],[8,58,22,7,59,23],[11,45,15,7,46,16],[12,394,314],[4,65,41,12,66,42],[12,58,22,4,59,23],[12,45,15,3,46,16],[12,432,344],[6,65,41,12,66,42],[6,58,22,17,59,23],[4,45,15,19,46,16],[13,468,372],[6,65,41,14,66,42],[6,58,22,18,59,23],[6,45,15,19,46,16],[14,504,400],[6,58,36,17,59,37],[8,58,22,16,59,23],[10,45,15,15,46,16],[16,560,446],[10,65,41,10,66,42],[12,58,22,10,59,23],[19,45,15,6,46,16],[17,588,468],[10,65,41,11,66,42],[14,58,22,11,59,23],[17,45,15,7,46,16],[17,644,512],[14,65,41,11,66,42],[14,58,22,13,59,23],[2,45,15,29,46,16],[18,700,556],[14,65,41,13,66,42],[14,58,22,14,59,23],[17,45,15,9,46,16],[18,728,578],[14,65,41,14,66,42],[14,58,22,15,59,23],[13,45,15,13,46,16],[19,784,624],[14,65,41,15,66,42],[16,58,22,13,59,23],[13,45,15,14,46,16],[20,812,646],[14,65,41,16,66,42],[17,58,22,13,59,23],[13,45,15,15,46,16],[21,868,690],[14,65,41,17,66,42],[17,58,22,14,59,23],[15,45,15,14,46,16],[22,900,714],[14,65,41,18,66,42],[17,58,22,15,59,23],[15,45,15,15,46,16],[24,980,776],[14,65,41,20,66,42],[17,58,22,17,59,23],[17,45,15,13,46,16],[25,1036,822],[14,65,41,21,66,42],[17,58,22,18,59,23],[17,45,15,14,46,16],[26,1064,846],[14,65,41,22,66,42],[17,58,22,19,59,23],[17,45,15,15,46,16],[28,1120,890],[14,65,41,24,66,42],[17,58,22,19,59,23],[13,45,15,18,46,16],[30,1176,934],[14,65,41,26,66,42],[17,58,22,21,59,23],[13,45,15,20,46,16],[30,1260,1e3],[14,65,41,28,66,42],[17,58,22,23,59,23],[13,45,15,22,46,16],[32,1316,1044],[14,65,41,30,66,42],[17,58,22,25,59,23],[13,45,15,24,46,16],[34,1372,1088],[14,65,41,32,66,42],[17,58,22,27,59,23],[13,45,15,26,46,16],[35,1456,1154],[14,65,41,34,66,42],[17,58,22,29,59,23],[13,45,15,28,46,16],[36,1512,1200],[14,65,41,36,66,42],[17,58,22,31,59,23],[13,45,15,30,46,16],[38,1568,1248],[14,65,41,38,66,42],[17,58,22,33,59,23],[13,45,15,32,46,16],[40,1624,1296],[14,65,41,40,66,42],[17,58,22,35,59,23],[13,45,15,34,46,16]],p={RS_BLOCK_TABLE:d,getRSBlocks:function(t,e){var r=function(t,e){switch(e){case s.L:return p.RS_BLOCK_TABLE[4*(t-1)+0];case s.M:return p.RS_BLOCK_TABLE[4*(t-1)+1];case s.Q:return p.RS_BLOCK_TABLE[4*(t-1)+2];case s.H:return p.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}(t,e);if(void 0===r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,o=[],a=0;a<n;a++)for(var h=r[3*a+0],l=r[3*a+1],c=r[3*a+2],u=0;u<h;u++)o.push(new i(l,c));return o}};e.prototype={addData:function(r,i){var o;switch(i=i||"UTF8"){case"UTF8":o=new t(r);break;default:throw new Error("mode:"+i)}this.dataList.push(o),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1)for(var t=1;t<41;t++){for(var r=p.getRSBlocks(t,this.errorCorrectLevel),i=new o,a=0,s=0,h=0;h<this.dataList.length;h++){var c=this.dataList[h];i.put(c.mode,4),i.put(c.getLength(),function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)}(c.mode,t)),c.write(i),a=c.getLength(),s+=a}for(var u=0,d=0;d<r.length;d++)u+=r[d].dataCount;if(i.getLengthInBits()<=8*u)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(r>=0&&r<=6&&(0==n||6==n)||n>=0&&n<=6&&(0==r||6==r)||r>=2&&r<=4&&n>=2&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=l.getLostPoint(this);(0==r||t>n)&&(t=n,e=r)}return e},createImgTag:function(t,e,r){t=t||2,e=void 0!==e?e:4*t;var n=this.getModuleCount()*t,i=e,o="";return o+='<img src="',o+=this.createDataURL(t,e),o+='"',o+=' width="',o+=n+2*i,o+='"',o+=' height="',o+=n+2*i,o+='"',r&&(o+=' alt="',o+=r,o+='"'),o+="/>",o},createDataURL:function(t,e){t=t||2,e=void 0!==e?e:4*t;var r=document.createElement("canvas");if(!r.getContext)throw new Error("canvas finally supports");var n=this.getModuleCount()*t+2*e;r.width=n,r.height=n;for(var i=r.getContext("2d"),o=0;o<n;o++)for(var a=0;a<n;a++)i.fillStyle=this.isDark(Math.floor(o/t),Math.floor(a/t))?this.options.colorDark:this.options.colorLight,i.fillRect(o,a,1,1);return r.toDataURL()},createTableTag:function(t,e){t=t||2,e=void 0!==e?e:4*t;var r="<table>";r+="<tbody>";for(var n=0;n<this.moduleCount();n++){r+="<tr>";for(var i=0;i<this.getModuleCount();i++)r+='<td style="',r+="width:"+t+"px;",r+="height:"+t+"px;",r+=this.isDark(n,i)?"background-color:"+this.options.colorDark+";":"background-color:"+this.options.colorLight+";",r+='"></td>';r+="</tr>"}return r+="</tbody>",r+="</table>",r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0),null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var t=l.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(null==this.modules[n][i])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)-2==o||2==o||-2==a||2==a||0==o&&0==a?this.modules[n+o][i+a]=!0:this.modules[n+o][i+a]=!1}},setupTypeNumber:function(t){for(var e=l.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=l.getBCHTypeInfo(this.errorCorrectLevel<<3|e),n=0;n<15;n++){var i=!t&&1==(r>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(n=0;n<15;n++){i=!t&&1==(r>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[n][a-s]){var h=!1;o<t.length&&(h=1==(t[o]>>>i&1)),l.getMask(e,n,a-s)&&(h=!h),this.modules[n][a-s]=h,-1==--i&&(o++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},e.createData=function(t,r,n){for(var s=p.getRSBlocks(t,r),h=new o,l=0;l<n.length;l++){var c=n[l];h.put(c.mode,4),h.put(c.getLength(),function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)}(c.mode,t)),c.write(h)}for(var u=0,d=0;d<s.length;d++)u+=s[d].dataCount;if(h.getLengthInBits()>8*u)throw new Error("code length overflow. ("+h.getLengthInBits()+" > "+8*u+")");for(h.getLengthInBits()+4<=8*u&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;;){if(h.getLengthInBits()>=8*u)break;if(h.put(236,8),h.getLengthInBits()>=8*u)break;h.put(17,8)}return e.createBytes(h,s)},e.createBytes=function(t,e){for(var n=0,o=0,a=0,s=new Array(e.length),h=new Array(e.length),l=0;l<e.length;l++){var u=e[l].dataCount,d=e[l].totalCount-u;o=Math.max(o,u),a=Math.max(a,d),s[l]=new Array(u);for(var g=0;g<s[l].length;g++)s[l][g]=255&t.buffer[g+n];n+=u;var m=function(t){for(var e=new r([1],0),n=0;n<t;n++)e=e.multiply(new r([1,c.gexp(n)],0));return e}(d),f=new r(s[l],m.getLength()-1).mod(m);h[l]=new Array(m.getLength()-1);for(g=0;g<h[l].length;g++){var v=g+f.getLength()-h[l].length;h[l][g]=v>=0?f.get(v):0}}for(var y="",w=0;w<e.length;w++)y+=function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}(s[w]);for(var _=new Array,b=0,T=0;T<o;T++)for(w=0;w<e.length;w++)T<s[w].length&&(_[b++]=s[w][T]);for(T=0;T<a;T++)for(w=0;w<e.length;w++)T<h[w].length&&(_[b++]=h[w][T]);return _},o.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-1-r&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=c.gexp(c.glog(this.get(n))+c.glog(t.get(i)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=c.glog(this.get(0))-c.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=c.gexp(c.glog(t.get(i))+e);return new r(n,0).mod(t)},t.prototype.getLength=function(t){return this.data.length},t.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.parsedData[e],8)},"string"==typeof(m=arguments[0])?v=m:"object"==typeof m&&(v=m.text,w=m.width,b=m.height,T=m.colorDark,S=m.colorLight,A=m.correctLevel,E=m.typeNumber,C=m.errorCorrectLevel,L=m.render,x=m.background,B=m.foreground),QRCode=function(t,r){if(n=r,o=new e(n.typeNumber,n.errorCorrectLevel),o.addData(n.text),o.make(),a=t,("string"==typeof a?document.getElementById(a):a).innerHTML=L&&"table"===L?o.createTableTag(W,G):o.createImgTag(W,G),this.clear=function(){},this.makeCode=function(t){o.addData(t),o.make(),a.innerHTML=L&&"table"===L?o.createTableTag(W,G):o.createImgTag(W,G)},n.text){var n,o,a;var l,c,u,d,p,g,h,m,v,y=n.text,w=n.width||256,b=n.height||256,T=n.colorDark||"#000000",S=n.colorLight||"#ffffff";if(n.render){var A=document.createElement("canvas");A.width=w,A.height=b;for(var E=A.getContext("2d"),C=0;C<o.getModuleCount();C++)for(var L=0;L<o.getModuleCount();L++)E.fillStyle=o.isDark(C,L)?T:S,u=Math.round((C+1)*(w/o.getModuleCount()))-Math.round(C*(w/o.getModuleCount())),d=Math.round((L+1)*(w/o.getModuleCount()))-Math.round(L*(w/o.getModuleCount())),E.fillRect(Math.round(C*(w/o.getModuleCount())),Math.round(L*(b/o.getModuleCount())),u,d);t.appendChild(A)}else{var x=o.createImgTag(w/o.getModuleCount());t.innerHTML=x}}else throw new Error("QRCode text is required.")},QRCode.CorrectLevel=s}();
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const registrationForm = document.getElementById('registrationForm');
            const qrOutputDiv = document.getElementById('qr-output');
            const qrcodeContainer = document.getElementById('qrcode');
            const instructionText = document.getElementById('instruction-text');
            const downloadLink = document.getElementById('download-link');
            
            registrationForm.addEventListener('submit', function(event) {
                event.preventDefault();

                const fullName = document.getElementById('fullName').value;
                const phoneNumber = document.getElementById('phoneNumber').value;
                const companyName = document.getElementById('companyName').value;
                const dataToEncode = `Name: ${fullName}\nPhone: ${phoneNumber}\nCompany: ${companyName}`;

                qrcodeContainer.innerHTML = '';

                try {
                    new QRCode(qrcodeContainer, {
                        text: dataToEncode,
                        width: 256,
                        height: 256,
                        colorDark: "#000000",
                        colorLight: "#ffffff",
                        correctLevel: QRCode.CorrectLevel.H
                    });
                } catch(e) {
                    alert("Terjadi error saat membuat QR Code. Mohon refresh halaman dan coba lagi.");
                    console.error(e);
                    return;
                }

                qrOutputDiv.style.display = 'block';
                instructionText.style.display = 'block';
                downloadLink.style.display = 'none';

                setTimeout(function() {
                    const canvas = qrcodeContainer.querySelector('canvas');
                    const img = qrcodeContainer.querySelector('img');

                    if (canvas) { // Jika hasilnya canvas
                        downloadLink.href = canvas.toDataURL('image/png');
                    } else if (img && img.src) { // Jika hasilnya gambar
                        downloadLink.href = img.src;
                    } else {
                        return; // Jangan tampilkan tombol download jika tidak ada sumber
                    }
                    
                    downloadLink.download = `QRCode-${fullName.replace(/\s+/g, '-')}.png`;
                    downloadLink.style.display = 'inline-block';
                }, 500); // Beri jeda sedikit lebih lama untuk memastikan render selesai
            });
        });
    </script>

</body>
</html>
